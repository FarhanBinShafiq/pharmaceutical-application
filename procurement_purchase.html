<!DOCTYPE html>

<html>

<head>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="css/bootstrap.min.css" rel="stylesheet">
    <link href="css/style.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.1/css/all.min.css" />
    <script src="js/bootstrap.bundle.min.js"></script>
    <title> BADAS </title>

</head>

<body>

    <!--sub menu-->

    <div class="container margin padding w100">

        <div class="row">

            <div class="col-sm-2 pr0">

                <div class="menu">

                    <div class="side-bar2">

                        <img class="logo" src="images/badas.png" id="sidebar-logo">
                        <h4 class="textstyle">BADAS</h4>

                        <div class="item top"><a href="#"><i class="fas fa-gauge"></i>Dashboard</a></div>

                        <div class="item">

                            <a class="sub-btn"><i class="fas fa-briefcase-medical"></i>Inventory<i
                                    class="fas fa-angle-right dropdown"></i></a>

                            <div class="sub-menu">

                                <div class="item"><a href="dashboard_sales.html"><i class=""></i>Sales</a></div>

                                <a class="sub-btn"><i class=""></i>Requisition<i
                                        class="fas fa-angle-right dropdown"></i></a>

                                <div class="sub-menu disnone">
                                    <a href="requisition_purchase.html" class="sub-item purchasereq1"
                                        id="purchasereq1">Purchase Requisition</a>
                                    <a href="requisition_stocktransfer.html" class="sub-item stocktransferreq1"
                                        id="stocktransferreq1">Stock Transfer Requisition</a>
                                </div>

                                <a class="sub-btn"><i class=""></i>Procurement<i
                                        class="fas fa-angle-right dropdown"></i></a>

                                <div class="sub-menu">
                                    <a href="procurement_order.html" class="sub-item">Order</a>
                                    <a href="procurement_purchase.html" class="sub-item">Purchase</a>
                                    <a href="procurement_transfer.html" class="sub-item">Transfer</a>
                                    <a href="procurement_inventory.html" class="sub-item">Inventory</a>
                                    <a href="procurement_adjustment.html" class="sub-item">Adjustment</a>
                                </div>

                                <a class="sub-btn"><i class=""></i>Report<i class="fas fa-angle-right dropdown"></i></a>

                                <div class="sub-menu disnone">
                                    <a href="report_stockreport.html" class="sub-item">Stock Report</a>
                                    <a href="report_stockvaluesum.html" class="sub-item">Stock Value Summary</a>
                                    <a href="report_cashflowsum.html" class="sub-item">Cash Flow Summary</a>
                                    <a href="report_salessum.html" class="sub-item">Sales Summary Report</a>
                                    <a href="report_employeewisesales.html" class="sub-item">Employee Wise Sales</a>
                                    <a href="report_salesvatreport.html" class="sub-item">Sales Vat Report</a>
                                    <a href="#" class="sub-item">Purchase Order Report</a>
                                    <a href="#" class="sub-item">Purchase Summary Report</a>
                                    <a href="#" class="sub-item">Sale Purchase Stock Summary</a>
                                    <a href="#" class="sub-item">Product Purchase Summary</a>
                                    <a href="#" class="sub-item">Product IO</a>
                                    <a href="#" class="sub-item">Product Stock Summary</a>
                                    <a href="#" class="sub-item">Summary Report</a>
                                    <a href="#" class="sub-item">Product Short List</a>
                                </div>

                                <div class="item"><a href="#"><i class=""></i>Suppliers</a></div>

                            </div>
                        </div>

                        <div class="item">

                            <a class="sub-btn"><i class="fas fa-money-bill-1"></i>Accounts<i
                                    class="fas fa-angle-right dropdown"></i></a>

                            <div class="sub-menu disnone">
                                <a href="#" class="sub-item">Transactions</a>
                                <a href="#" class="sub-item">Income & Cost Statement</a>
                                <a href="#" class="sub-item">Customer</a>
                                <a href="#" class="sub-item">Accounts</a>
                                <a href="#" class="sub-item">Person Discount</a>
                                <a href="#" class="sub-item">Transaction Head</a>
                                <a href="#" class="sub-item">Merge Transaction Heads</a>
                                <a href="#" class="sub-item">Trial Balance</a>
                                <a href="#" class="sub-item">Cash Point Summary</a>
                            </div>
                        </div>

                        <div class="item">

                            <a class="sub-btn"><i class="fas fa-box-archive"></i>Products<i
                                    class="fas fa-angle-right dropdown"></i></a>

                            <div class="sub-menu disnone">
                                <a href="#" class="sub-item">Product Forms</a>
                                <a href="#" class="sub-item">Product Generics</a>
                                <a href="#" class="sub-item">Product Catagories</a>
                                <a href="#" class="sub-item">Product Groups</a>
                                <a href="#" class="sub-item">Manufacturing Company</a>
                                <a href="#" class="sub-item">Products</a>
                                <a href="#" class="sub-item">Possible Duplicate Products</a>
                                <a href="#" class="sub-item">Merge Products</a>
                                <a href="#" class="sub-item">Stores</a>
                                <a href="#" class="sub-item">Product Subgroups</a>
                                <a href="#" class="sub-item">Unit</a>
                                <a href="#" class="sub-item">Update Rack, Stock & Discount</a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!--search bar, topnav & profile avatar-->

            <div class="col-sm-10 pl0" style="background-color: #002E55;padding: 7px !important;">

                <!--PURCHASE tab-->

                <div class="procure_purchase-tab" style="background-color: #003E6C;"> <br>

                    <div class="sc">
                        <h6 class="topnav2 ib">Purchase</h6>

                        <div class="buttonbox">
                            <button class="fa fa-search buttons" href="#Search"></button>
                            <button class="fa-solid fa-filter buttons" href="#Filter"></button>
                            <button class="fa-solid fa-print buttons" type="button" data-bs-toggle="modal"
                                data-bs-target="#exampleModal3"></button>
                            <button class="fa-solid fa-download buttons" href="#Download"></button>

                        </div>
                    </div>

                    <table class="table">
                        <thead style="background-color: #003E6C; font-size: small;">
                            <tr>

                                <th scope="col">ID</th>
                                <th scope="col">DATE</th>
                                <th scope="col">STORE NAME</th>
                                <th scope="col">Company Name</th>
                                <th scope="col">ACTION</th>
                            </tr>
                        </thead>

                        <tbody style="background-color: #154883" id="purchaseTable">
                            <tr>

                                <th scope="col">1002</th>
                                <th scope="col">2022</th>
                                <th scope="col">BAADAS PHARMACY</th>
                                <th scope="col">SQUARE PHARMACITICAL</th>
                                <th scope="col">

                                    <button class="fa-solid fa-eye  fa-xl buttons"
                                        style="color: #000000;background-color:#004A88; border: none;" type="button"
                                        id="viewEvent" class="btn btn-info" data-bs-dismiss="modal"></button>

                                </th>
                            </tr>

                            <tr>

                                <th scope="col">1002</th>
                                <th scope="col">2022</th>
                                <th scope="col">BAADAS PHARMACY</th>
                                <th scope="col">SQUARE PHARMACITICAL</th>
                                <th scope="col">

                                    <button class="fa-solid fa-eye  fa-xl buttons"
                                        style="color: #000000;background-color:#004A88; border: none;" type="button"
                                        id="viewEvent" class="btn btn-info" data-bs-dismiss="modal"></button>
                                </th>

                            </tr>

                            <tr>

                                <th scope="col">1002</th>
                                <th scope="col">2022</th>
                                <th scope="col">BAADAS PHARMACY</th>
                                <th scope="col">SQUARE PHARMACITICAL</th>
                                <th scope="col"> <button class="fa-solid fa-eye  fa-xl buttons"
                                        style="color: #000000;background-color:#004A88; border: none;" type="button"
                                        id="viewEvent" class="btn btn-info" data-bs-dismiss="modal"></button>
                                </th>

                            </tr>
                        </tbody>
                    </table>
                </div>



                <!--SUMMARY-->
                <div class="col-md-10 2" id="procurmentPurchase" style="padding-left: 10%; padding-top: 5%;">

                    <div class="modal-header">
                        <h5 class=" text-center" id="exampleModalLabel">PURCHASE ORDER</h5>
                        <button type="button" class="btn-close btn-close-white" id="Xclose" data-bs-dismiss="modal"
                            aria-label="Close"></button>
                    </div>
                    <div class="modal-body">
                        <form action="">

                            <div class="row">

                                <div class="col-sm-4">
                                    <h5 class="modal-text">REUISITION DATE: <span id="requisitionDate">
                                            2023-06-02</span> </h5>

                                </div>


                                <div class="col-sm-4">
                                    <h5 class="modal-text">PURCHASE ORDER DATE: <span id="requisitionDate">
                                            2023-06-02</span></h5>

                                </div>

                                <div class="col-sm-4">
                                    <h5 class="modal-text" id="reqClient">STORE NAME : <span id="requisitionFor">BADAS
                                            Pharmacy (Jurain)</span></h5>

                                </div>
                            </div>

                            <br />


                            <div class="row ">

                                <div class="col-sm-6">
                                    <h5 class="modal-text">Company : <span id="requisitionReceiver">SQUARE
                                            PHARMACITICAL</span></h5>

                                </div>

                                <div class="col-sm-6">
                                    <h5 class="modal-text" id="reqClient">DEPARTMENT : <span
                                            id="requisitionDepartment">BADAS Pharmacy (IGH savar)</span></h5>

                                </div>
                            </div>

                            <br><br>
                            <table class="table">
                                <thead class="tbodyresult3">
                                    <tr>
                                        <th scope="col">SL</th>
                                        <th scope="col">ITEM</th>
                                        <th scope="col">QTY</th>
                                        <th scope="col">EXPIRY DATE</th>
                                        <th scope="col">ACTION</th>

                                    </tr>
                                </thead>



                                <tr id='item'>
                                    <th>1</th>
                                    <td>Abilify Maintena</td>
                                    <td>

                                        <input id='quantity' value='30' type="number" class="disable-arrows"
                                            style="background-color: #7a5715; width: 35px;border-radius: 5px;" />
                                        pcs
                                        <span>
                                            <button class="fa-solid fa-angle-down buttons"
                                                style="border-radius: 15px; padding: 4px; margin-left: 5px; background-color: rgb(124, 160, 135);"
                                                type="button" id="itemDecrease"></button>
                                        </span>

                                    </td>
                                    <td> <input class="input-design4" type="date" id="expiry_Date" name=""
                                            style="width: 200px;"></td>
                                    <td><i class="fa fa-remove" id="itemRemove" style="font-size:48px;color:red"></i>
                                    </td>

                                </tr>

                                <tr id='item'>
                                    <th>2</th>
                                    <td>Acetaminophen.</td>
                                    <td>

                                        <input id='quantity' value='30' type="number" class="disable-arrows"
                                            style="background-color: #7a5715; width: 35px;border-radius: 5px;" />
                                        pcs
                                        <span>
                                            <button class="fa-solid fa-angle-down buttons"
                                                style="border-radius: 15px; padding: 4px; margin-left: 5px; background-color: rgb(124, 160, 135);"
                                                type="button" id="itemDecrease"></button>
                                        </span>

                                    </td>
                                    <td> <input class="input-design4" type="date" id="expiry_Date" name=""
                                            style="width: 200px;"></td>
                                    <td><i class="fa fa-remove" id="itemRemove" style="font-size:48px;color:red"></i>
                                    </td>

                                </tr>

                                <tr id='item'>
                                    <th>3</th>
                                    <td>Azithromycin</td>
                                    <td>

                                        <input id='quantity' value='30' type="number"  class="disable-arrows"
                                            style="background-color: #7a5715; width: 35px;border-radius: 5px;" />
                                        pcs
                                        <span>
                                            <button class="fa-solid fa-angle-down buttons"
                                                style="border-radius: 15px; padding: 4px; margin-left: 5px; background-color: rgb(124, 160, 135);"
                                                type="button" id="itemDecrease"></button>
                                        </span>

                                    </td>
                                    <td> <input class="input-design4" type="date" id="expiry_Date" name=""
                                            style="width: 200px;"></td>
                                    <td><i class="fa fa-remove" id="itemRemove" style="font-size:48px;color:red"></i>
                                    </td>

                                </tr>

                                <tr id='item'>
                                    <th>4</th>
                                    <td>Ibandronate</td>
                                    <td>

                                        <input id='quantity' value='30' type="number"   class="disable-arrows"
                                            style="background-color: #7a5715; width: 35px;border-radius: 5px;" />
                                        pcs
                                        <span>
                                            <button class="fa-solid fa-angle-down buttons"
                                                style="border-radius: 15px; padding: 4px; margin-left: 5px; background-color: rgb(124, 160, 135);"
                                                type="button" id="itemDecrease"></button>
                                        </span>

                                    </td>
                                    <td> <input class="input-design4" type="date" id="expiry_Date" name=""
                                            style="width: 200px;"></td>
                                    <td><i class="fa fa-remove" id="itemRemove" style="font-size:48px;color:red"></i>
                                    </td>
                                </tr>

                            </table>


                            <div class="modal-footer">
                                <button type="button" class="btn btn-primary" data-bs-dismiss="modal" id="goodRec">GOOD
                                    RECEIVED </button>
                                <button type="button" id="onHoldEvent" class="btn btn-danger">ON HOLD</button>
                            </div>


                        </form>
                    </div>
                </div>

            </div>
        </div>
    </div>



    <!--toggle function on sub menus-->

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.1/jquery.min.js"></script>

    <script>
        $(document).ready(function () {

            //jquery for toggle sub menus
            $('.sub-btn').click(function () {
                $(this).next('.sub-menu').slideToggle();
                $(this).find('.dropdown').toggleClass('rotate');
            });


            //summary




            $('#procurmentPurchase').hide()

            $(document).on('click', '#viewEvent', () => {

                $('#procurmentPurchase').show(1000)
                $('.procure_purchase-tab').hide(1000)
            })

            // // Reject detail page icon close
            $(document).on('click', '#Xclose', () => {
                var pMenu = $('#procurmentPurchase')
                pMenu.hide(1000)
                $('.procure_purchase-tab').show(1000)

            })

            //Delete the items 

            var itemList = [];

            $(document).on('click', '#itemRemove', function () {
                var removedItem = $(this).closest('tr').find('td#item').text();
                itemList = itemList.filter(item => item !== removedItem);
                $(this).closest('tr').remove();
            });

            ///DECREASE THE ITEM QUANTITY
            $(document).on('click', '#itemDecrease', function () {

                var quantityLine = $(this).closest('tr');
                var quantityCell = quantityLine.find('input');
                var quantityValue = quantityCell.val().trim()
                var quantity = quantityValue;
                if (quantity > 0) {
                    var newQuantity = quantity - 1;
                    quantityCell.val(newQuantity)
                    $('#targetEvents').show()
                }

            })

            //Item Text box Update

            $(document).on('click', '#quantity', (e) => {



                let currentValue = Number(e.target.value)


                $(document).on('change', '#quantity', (e) => {
                    let inputValue = Number($(e.target).val())


                    if (inputValue >= currentValue) {
                        alert(` Input value must be lower than the ${currentValue} `);
                        $(e.target).val(currentValue)

                    } else {
                        currentValue = inputValue
                        $('#targetEvents').show()


                    }
                })
            })


            //Good Received button enabled/disabled
            $('#goodRec').prop('disabled', true); 
      
            $(document).on('input', '#expiry_Date', () => {
                const reqDate = $("#expiry_Date").val();
                
                if (reqDate !== '') {
                    $('#goodRec').prop('disabled', false); // Enable the button
                } else {
                    $('#goodRec').prop('disabled', true); // Disable the button
                }
            });

            

            //Item input/output  on purchase table

            $(document).on('click', '#onHoldEvent', () => {
                alert('Close To heart')
                var purchaseOrder =
                    `
                    <tr id='item'>
                        <tr>

                      <th scope="col">1002</th>
                      <th scope="col">2022</th>
                      <th scope="col">BAADAS PHARMACY</th>
                      <th scope="col">SQUARE PHARMACITICAL</th>
                      <th scope="col">
                      <button class="fa-solid fa-eye  fa-xl buttons" style="color: #000000;background-color:#004A88; border: none;" type="button" id="viewEvent" class="btn btn-info" data-bs-dismiss="modal"></button>
                      </th>
                      </tr>`

                $('#purchaseTable').append(purchaseOrder)
                $('#procurmentPurchase').hide(1000)
                $('.procure_purchase-tab').show(1000)

            })



        });
    </script>



</body>

</html>